<textarea name="input" id="input"></textarea>

<select name="algo" id="algo">
    <option value="codeQuote">Code quote</option>
</select>

<code id="outputWrap">
<pre id="output">
</pre>
</code>

<input type="button" value="Copy" id="copyBtn">

<script>
    const input = document.getElementById('input');
    const output = document.getElementById('output');

    /**
     * @param {string} data
     */
    function codeQuote(data) {
        return data.split("\n").map(line => line.split(" ").map(word => {
            if (/`/.test(word)) {
                return word;
            }

            if (!/[_=/\\]|.\(.*\)/.test(word)) {
                return word;
            }

            if (/.+[,.!?]/.test(word)) {
                return `\`${word.slice(0, -1)}\`${word.slice(-1)}`;
            }

            return `\`${word}\``;
        }).join(' ')).join("\n");
    }

    const algos = {
        codeQuote: codeQuote,
    };

    function getAlgo() {
        const algoName = document.getElementById('algo').value;
        const algo = algos[algoName]

        if (algo) {
            return algo;
        }

        return (data) => `Unknown algorithm: ${algoName}`;
    }

    input.addEventListener('input', () => {
        output.textContent = getAlgo()(input.value);
    });

    document.getElementById('copyBtn').addEventListener('click', () => {
        navigator.clipboard.writeText(output.textContent);
    });
</script>

<style>
    textarea#input {
        width: 100%;
        min-height: 6em;
        background-color: #202;
        border: #fdf 1px solid;
        border-radius: 1em;
        padding: 1em 1em;
        color: #fdf;
        margin-bottom: 0.5em;
    }
    #outputWrap {
        display: block;
        width: 100%;
        overflow: auto;
        border: #fdf 1px solid;
        border-radius: 1em;
        padding: 1em 1em;
        margin-top: 1em;
    }
    #copyBtn {
        display: block;
        margin-top: 1em;
        background-color: #fdf;
        border: none;
        color: #000;
        padding: .1em .5em;
        border-radius: .5em;
    }
    #algo {
        background-color: #fdf;
        border: none;
        color: #000;
        padding: .1em .5em;
        border-radius: .5em;
    }
</style>